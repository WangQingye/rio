import{D as e,j as l,p as a,a as o,L as t,i as n,r,o as s,c as d,f as i,t as u,w as c,h as m}from"./vendor.cfd906a5.js";import"./index.8da61348.js";import{_ as p,b}from"./MesuringTable.3021cce1.js";import{a as y}from"./ProductDetail.a680663a.js";import"./user.181d4cce.js";const f={components:{BaseTable:p,ProductAdd:b,ProductDetail:y},name:"product-manage",setup(){const a=e({address:"",name:"",pageIndex:1,pageSize:10}),o=l(!1);let r=l(null);const s=l(!1),d=l(!1),i=l(!1),u=l(!1),c=l(null);return{columns:[{label:"工具名称",prop:"toolName"},{label:"展示字段",prop:"toolProps",slot:"toolProps"}],formItems:[{label:"工具类名称",key:"toolName",required:!0,width:"100%"},{label:"展示字段",key:"toolProps",required:!0,placeholder:"英文逗号隔开",width:"100%"}],query:a,editVisible:o,handleSearch:()=>{a.pageIndex=1},handleDelete:e=>{t.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{n.success("删除成功"),tableData.value.splice(e,1)})).catch((()=>{}))},handleEdit:e=>{o.value=!0,r.value=JSON.parse(JSON.stringify(e)),r.value.toolProps=r.value.toolProps.map((e=>e.label)).join("|")},editItemData:r,editSubmit:e=>{console.log(e)},handleAdd:()=>{o.value=!0,r.value=null},detailVisible:s,handleLendingRecords:e=>{d.value=!0,r.value=e},lendingRecordsColumns:[{label:"出借人",prop:"lendUser"},{label:"出借时间",prop:"lendTime"},{label:"出借数量",prop:"lendnum"},{label:"当前状态",prop:"status"},{label:"备注",prop:"remark"}],lendingRecordsVisible:d,showAddLend:e=>{i.value=!0},addLendVisible:i,addLendFormItems:[{label:"出借人",key:"lendUser",required:!0},{label:"出借数量",key:"num",required:!0,type:"number"},{label:"备注",key:"remark",required:!0,type:"textarea"}],addLendSubmit:e=>{console.log(e)},showReturnMesuring:e=>{u.value=!0,c.value=e},returnMesuringVisible:u,returnMesuringItems:[{label:"归还数量",key:"num",required:!0,type:"number"}],returnMesuringSubmit:e=>{console.log(e)}}}},g=c();a("data-v-1c6bc58e");const h={class:"container"},v=m("查询"),k=m("添加工具种类"),D=m("编辑 "),I=m("删除");o();const P=g(((e,l,a,o,t,n)=>{const c=r("el-input"),m=r("el-form-item"),p=r("el-button"),b=r("el-form"),y=r("BaseTable"),f=r("ProductAdd");return s(),d("div",null,[i("div",h,[i(b,{inline:!0,model:o.query,class:"demo-form-inline"},{default:g((()=>[i(m,{label:"工具类名称"},{default:g((()=>[i(c,{modelValue:o.query.address,"onUpdate:modelValue":l[1]||(l[1]=e=>o.query.address=e),placeholder:"工具类名称"},null,8,["modelValue"])])),_:1}),i(m,null,{default:g((()=>[i(p,{type:"primary",onClick:o.handleSearch},{default:g((()=>[v])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),i(p,{type:"primary",icon:"el-icon-plus",style:{"margin-bottom":"20px"},onClick:o.handleAdd},{default:g((()=>[k])),_:1},8,["onClick"]),i(y,{cols:o.columns,url:"/toolTypes"},{toolProps:g((e=>[i("span",null,u(e.scopeData.toolProps.map((e=>e.label)).join(" | ")),1)])),operation:g((e=>[i(p,{type:"text",icon:"el-icon-edit",style:{"margin-left":"0"},onClick:l=>o.handleEdit(e.scopeData)},{default:g((()=>[D])),_:2},1032,["onClick"]),i(p,{type:"text",icon:"el-icon-delete",class:"color-danger",onClick:l=>o.handleDelete(e.scopeData)},{default:g((()=>[I])),_:2},1032,["onClick"])])),_:1},8,["cols"])]),i(f,{visible:o.editVisible,onClose:l[2]||(l[2]=e=>o.editVisible=!1),itemData:o.editItemData,formItems:o.formItems,onDialogSubmit:o.editSubmit},null,8,["visible","itemData","formItems","onDialogSubmit"])])}));f.render=P,f.__scopeId="data-v-1c6bc58e";export default f;
