import{z as e,A as a,p as l,a as t,L as o,B as r,r as s,o as d,c as i,f as u,h as c,t as n,w as p}from"./vendor.e430a4a4.js";import{_ as m,a as b,b as y,f as k}from"./ProductDetail.cbb09a8f.js";const f={components:{BaseTable:m,ProductAdd:b,ProductDetail:y},name:"product-manage",setup(){const l=e({address:"",name:"",pageIndex:1,pageSize:10}),t=a([]),s=a(0),d=()=>{k(l).then((e=>{t.value=e.list,s.value=e.pageTotal||50}))};d();const i=a(!1),u=a(null),c=a(!1);return{columns:[{label:"序号",prop:"index"},{label:"任务号",prop:"taskId",slot:"taskId"},{label:"产品代号",prop:"productId"},{label:"零件代号",prop:"partId"},{label:"名称",prop:"name"},{label:"图纸工序",prop:"blueprintProcess"},{label:"本厂实际工序",prop:"factoryProcess"},{label:"回厂数量",prop:"backFactoryNum"},{label:"回厂日期",prop:"backFactoryTime"},{label:"调度备注",prop:"dispatchRemark"},{label:"甲方要求回厂时间",prop:"customerBackFactoryTime"},{label:"状态",prop:"status",slot:"status"},{label:"备注",prop:"remark"},{label:"出厂数量",prop:"outFactoryNum"},{label:"出厂时间",prop:"outFactoryTime"},{label:"最终甲方检验合格数",prop:"finalCustomerQualifiedNum"}],formItems:[{label:"序号",key:"index",required:!0},{label:"任务号",key:"taskId",required:!0},{label:"产品代号",key:"productId",required:!0},{label:"零件代号",key:"partId",required:!0},{label:"名称",key:"name",required:!0},{label:"图纸工序",key:"blueprintProcess",required:!0},{label:"本厂实际工序",key:"factoryProcess",required:!0},{label:"回厂数量",key:"backFactoryNum",required:!0},{label:"回厂日期",key:"backFactoryTime",required:!0,type:"date"},{label:"调度备注",key:"dispatchRemark",required:!0},{label:"甲方要求回厂时间",key:"customerBackFactoryTime",required:!0,type:"date"},{label:"状态",key:"status",required:!0},{label:"备注",key:"remark",required:!0},{label:"出厂数量",key:"outFactoryNum",required:!0},{label:"出厂时间",key:"outFactoryTime",required:!0,type:"date"},{label:"最终甲方检验合格数",key:"finalCustomerQualifiedNum",required:!0}],query:l,tableData:t,pageTotal:s,editVisible:i,handleSearch:()=>{l.pageIndex=1,d()},handlePageChange:e=>{l.pageIndex=e,d()},handleDelete:e=>{o.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{r.success("删除成功"),t.value.splice(e,1)})).catch((()=>{}))},handleEdit:e=>{i.value=!0,u.value=e},showDetail:e=>{console.log(111),c.value=!0,u.value=e},editItemData:u,editSubmit:e=>{console.log(e)},handleAdd:()=>{console.log(222),i.value=!0,u.value=null},detailVisible:c}}},h=p();l("data-v-09430830");const D={class:"container"},q=c("查询"),v=c("添加批次"),I=c("编辑 "),g=c("删除");t();const C=h(((e,a,l,t,o,r)=>{const p=s("el-input"),m=s("el-form-item"),b=s("el-option"),y=s("el-select"),k=s("el-button"),f=s("el-form"),C=s("el-tag"),_=s("el-link"),V=s("BaseTable"),F=s("ProductAdd"),P=s("ProductDetail");return d(),i("div",null,[u("div",D,[u(f,{inline:!0,model:t.query,class:"demo-form-inline"},{default:h((()=>[u(m,{label:"批次号"},{default:h((()=>[u(p,{modelValue:t.query.address,"onUpdate:modelValue":a[1]||(a[1]=e=>t.query.address=e),placeholder:"批次号"},null,8,["modelValue"])])),_:1}),u(m,{label:"产品状态"},{default:h((()=>[u(y,{modelValue:t.query.address,"onUpdate:modelValue":a[2]||(a[2]=e=>t.query.address=e),placeholder:"状态",class:"handle-select mr10"},{default:h((()=>[u(b,{key:"1",label:"在线",value:"在线"}),u(b,{key:"2",label:"完结",value:"完结"})])),_:1},8,["modelValue"])])),_:1}),u(m,null,{default:h((()=>[u(k,{type:"primary",onClick:t.handleSearch},{default:h((()=>[q])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),u(k,{type:"primary",icon:"el-icon-plus",style:{"margin-bottom":"20px"},onClick:t.handleAdd},{default:h((()=>[v])),_:1},8,["onClick"]),u(V,{cols:t.columns},{status:h((e=>[u(C,{type:"成功"===e.scopeData.status?"success":"失败"===e.scopeData.status?"danger":""},{default:h((()=>[c(n(e.scopeData.status),1)])),_:2},1032,["type"])])),taskId:h((e=>[u(_,{href:"javascript:void(0)",type:"primary",onClick:a=>t.showDetail(e.scopeData)},{default:h((()=>[c(n(e.scopeData.taskId),1)])),_:2},1032,["onClick"])])),operation:h((e=>[u(k,{type:"text",icon:"el-icon-edit",onClick:a=>t.handleEdit(e.scopeData)},{default:h((()=>[I])),_:2},1032,["onClick"]),u(k,{type:"text",icon:"el-icon-delete",class:"red",onClick:a=>t.handleDelete(e.scopeData)},{default:h((()=>[g])),_:2},1032,["onClick"])])),_:1},8,["cols"])]),u(F,{visible:t.editVisible,onClose:a[3]||(a[3]=e=>t.editVisible=!1),itemData:t.editItemData,formItems:t.formItems,key:"product-edit",onDialogSubmit:t.editSubmit},null,8,["visible","itemData","formItems","onDialogSubmit"]),u(P,{visible:t.detailVisible,onClose:a[4]||(a[4]=e=>t.detailVisible=!1),key:"detail",itemData:t.editItemData},null,8,["visible","itemData"])])}));f.render=C,f.__scopeId="data-v-09430830";export default f;
