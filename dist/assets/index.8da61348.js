import{r as e,o as t,c as s,p as a,a as n,u as l,b as o,d as i,e as c,f as r,g as d,h as u,t as m,w as p,C as h,Z as g,i as f,j as _,k as v,l as b,F as x,m as k,n as L,q as w,T as I,K as y,s as T,v as E,x as P,y as C,z as j,_ as A,A as O,R,B as D}from"./vendor.cfd906a5.js";const V={};let $;V.render=function(a,n,l,o,i,c){const r=e("router-view");return t(),s(r)};const M={},S=function(e,t){if(!t)return e();if(void 0===$){const e=document.createElement("link").relList;$=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in M)return;M[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":$,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};const U={setup(){const e=l(),t=e.state.userInfo.user.realName,s=o((()=>e.state.collapse)),a=()=>{e.commit("handleCollapse",!s.value)};i((()=>{document.body.clientWidth<1500&&a()}));const n=c();return{username:t,message:2,collapse:s,collapseChage:a,handleCommand:t=>{"loginout"==t?(e.commit("removeUserInfo"),n.push("/login")):"user"==t&&n.push("/user")}}}},q=p();a("data-v-2184fc44");const z={class:"header"},N={key:0,class:"el-icon-s-fold"},W={key:1,class:"el-icon-s-unfold"},F=r("div",{class:"logo"},"瑞奥机械",-1),H={class:"header-right"},K={class:"header-user-con"},B={class:"btn-bell"},J=r("i",{class:"el-icon-bell"},null,-1),Y={key:0,class:"btn-bell-badge"},Z=r("div",{class:"user-avator"},[r("img",{src:"./assets/img.cf1cb86c.jpg"})],-1),G={class:"el-dropdown-link"},Q=r("i",{class:"el-icon-caret-bottom"},null,-1),X={href:"https://github.com/lin-xin/vue-manage-system",target:"_blank"},ee=u("项目仓库"),te=u("个人中心"),se=u("退出登录");n();const ae=q(((a,n,l,o,i,c)=>{const p=e("router-link"),h=e("el-tooltip"),g=e("el-dropdown-item"),f=e("el-dropdown-menu"),_=e("el-dropdown");return t(),s("div",z,[r("div",{class:"collapse-btn",onClick:n[1]||(n[1]=(...e)=>o.collapseChage&&o.collapseChage(...e))},[o.collapse?(t(),s("i",W)):(t(),s("i",N))]),F,r("div",H,[r("div",K,[r("div",B,[r(h,{effect:"dark",content:o.message?`有${o.message}条未读消息`:"消息中心",placement:"bottom"},{default:q((()=>[r(p,{to:"/work-list"},{default:q((()=>[J])),_:1})])),_:1},8,["content"]),o.message?(t(),s("span",Y)):d("",!0)]),Z,r(_,{class:"user-name",trigger:"click",onCommand:o.handleCommand},{dropdown:q((()=>[r(f,null,{default:q((()=>[r("a",X,[r(g,null,{default:q((()=>[ee])),_:1})]),r(g,{command:"user"},{default:q((()=>[te])),_:1}),r(g,{divided:"",command:"loginout"},{default:q((()=>[se])),_:1})])),_:1})])),default:q((()=>[r("span",G,[u(m(o.username)+" ",1),Q])])),_:1},8,["onCommand"])])])])}));U.render=ae,U.__scopeId="data-v-2184fc44";const ne=h.create({baseURL:"/api",timeout:1e4});let le=null;ne.interceptors.request.use((e=>(le&&le.close(),le=g.service({background:"rgba(0,0,0,0.1)"}),e)),(e=>(console.log(e),le.close(),Promise.reject()))),ne.interceptors.response.use((e=>{if(le.close(),200===e.status){if("string"==typeof e.data)return JSON.parse(e.data);if("FAIL"==e.data.status)throw f.error(e.data.msg),new Error(e.data.msg);return e.data}302===e.status?(f.error("登录过期，请重新登录"),window.location.reload()):Promise.reject()}),(e=>(le.close(),console.log(e),Promise.reject())));const oe={setup(){const e=_([]),t=_([]),s=v(),a=l(),n=c();b((()=>{"SYS_ADMIN"===a.state.userInfo.authorities[0].authority?t.value=[{icon:"el-icon-lx-cascades",index:"/product",title:"产品管理"},{icon:"el-icon-lx-filter",index:"/mesuring",title:"量具管理"},{icon:"el-icon-lx-tag",index:"/knife",title:"刀具管理"},{icon:"el-icon-lx-file",title:"工具管理",subs:[...e.value,{icon:"el-icon-lx-file",index:"/tool-add",title:"添加工具种类"}]},{icon:"el-icon-lx-friendadd",index:"/user",title:"员工管理"},{icon:"el-icon-date",index:"/work-list",title:"工作列表"},{icon:"el-icon-document",index:"/lend-list",title:"领用清单"}]:(t.value=[{icon:"el-icon-date",index:"/work-list",title:"工作列表"},{icon:"el-icon-document",index:"/lend-list",title:"领用清单"}],n.push("/work-list"))}));const i=o((()=>s.path)),r=o((()=>a.state.collapse));return{items:t,onRoutes:i,collapse:r}}},ie=p();a("data-v-4cea2fc4");const ce={class:"sidebar"};n();const re=ie(((a,n,l,o,i,c)=>{const p=e("el-menu-item"),h=e("el-submenu"),g=e("el-menu");return t(),s("div",ce,[o.items.length?(t(),s(g,{key:0,class:"sidebar-el-menu","default-active":o.onRoutes,collapse:o.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""},{default:ie((()=>[(t(!0),s(x,null,k(o.items,(e=>(t(),s(x,null,[e.subs&&e.subs.length?(t(),s(h,{index:e.icon,key:e.icon},{title:ie((()=>[r("i",{class:e.icon},null,2),r("span",null,m(e.title),1)])),default:ie((()=>[(t(!0),s(x,null,k(e.subs,(e=>(t(),s(x,null,[e.subs?(t(),s(h,{index:e.index,key:e.index},{title:ie((()=>[u(m(e.title),1)])),default:ie((()=>[(t(!0),s(x,null,k(e.subs,((e,a)=>(t(),s(p,{key:a,index:e.index},{default:ie((()=>[u(m(e.title),1)])),_:2},1032,["index"])))),128))])),_:2},1032,["index"])):(t(),s(p,{index:e.index,key:e.index},{default:ie((()=>[u(m(e.title),1)])),_:2},1032,["index"]))],64)))),256))])),_:2},1032,["index"])):(t(),s(p,{index:e.index,key:e.index},{title:ie((()=>[u(m(e.title),1)])),default:ie((()=>[r("i",{class:e.icon},null,2)])),_:2},1032,["index"]))],64)))),256))])),_:1},8,["default-active","collapse"])):d("",!0)])}));oe.render=re,oe.__scopeId="data-v-4cea2fc4";const de={setup(){const e=v(),t=c(),s=l(),a=o((()=>s.state.tagsList)),n=o((()=>a.value.length>0)),i=e=>{a.value.some((t=>t.path===e.fullPath))||(a.value.length>=8&&s.commit("delTagsItem",{index:0}),s.commit("setTagsItem",{name:e.name,title:e.meta.title,path:e.fullPath}))};i(e),L((e=>{i(e)}));return{isActive:t=>t===e.fullPath,tagsList:a,showTags:n,closeTags:n=>{const l=a.value[n];s.commit("delTagsItem",{index:n});const o=a.value[n]?a.value[n]:a.value[n-1];o?l.path===e.fullPath&&t.push(o.path):t.push("/")},handleTags:n=>{"other"===n?(()=>{const t=a.value.filter((t=>t.path===e.fullPath));s.commit("closeTagsOther",t)})():(s.commit("clearTags"),t.push("/"))}}}},ue={key:0,class:"tags"},me=r("i",{class:"el-icon-close"},null,-1),pe={class:"tags-close-box"},he=u(" 标签选项 "),ge=r("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),fe=u("关闭其他"),_e=u("关闭所有");de.render=function(a,n,l,o,i,c){const p=e("router-link"),h=e("el-button"),g=e("el-dropdown-item"),f=e("el-dropdown-menu"),_=e("el-dropdown");return o.showTags?(t(),s("div",ue,[r("ul",null,[(t(!0),s(x,null,k(o.tagsList,((e,a)=>(t(),s("li",{class:["tags-li",{active:o.isActive(e.path)}],key:a},[r(p,{to:e.path,class:"tags-li-title"},{default:w((()=>[u(m(e.title),1)])),_:2},1032,["to"]),r("span",{class:"tags-li-icon",onClick:e=>o.closeTags(a)},[me],8,["onClick"])],2)))),128))]),r("div",pe,[r(_,{onCommand:o.handleTags},{dropdown:w((()=>[r(f,{size:"small"},{default:w((()=>[r(g,{command:"other"},{default:w((()=>[fe])),_:1}),r(g,{command:"all"},{default:w((()=>[_e])),_:1})])),_:1})])),default:w((()=>[r(h,{size:"mini",type:"primary"},{default:w((()=>[he,ge])),_:1})])),_:1},8,["onCommand"])])])):d("",!0)};const ve={components:{vHeader:U,vSidebar:oe,vTags:de},setup(){const e=l();return{tagsList:o((()=>e.state.tagsList.map((e=>e.name)))),collapse:o((()=>e.state.collapse))}}},be={class:"about"},xe={class:"content"};ve.render=function(a,n,l,o,i,c){const d=e("v-header"),u=e("v-sidebar"),m=e("v-tags"),p=e("router-view");return t(),s("div",be,[r(d),r(u),r("div",{class:["content-box",{"content-collapse":o.collapse}]},[r(m),r("div",xe,[r(p,null,{default:w((({Component:e})=>[r(I,{name:"move",mode:"out-in"},{default:w((()=>[(t(),s(y,{include:o.tagsList},[(t(),s(T(e)))],1032,["include"]))])),_:2},1024)])),_:1})])],2)])};const ke=E({state:{tagsList:[],collapse:!1,userInfo:null},mutations:{delTagsItem(e,t){e.tagsList.splice(t.index,1)},setTagsItem(e,t){e.tagsList.push(t)},clearTags(e){e.tagsList=[]},closeTagsOther(e,t){e.tagsList=t},closeCurrentTag(e,t){for(let s=0,a=e.tagsList.length;s<a;s++){if(e.tagsList[s].path===t.$route.fullPath){s<a-1?t.$router.push(e.tagsList[s+1].path):s>0?t.$router.push(e.tagsList[s-1].path):t.$router.push("/"),e.tagsList.splice(s,1);break}}},handleCollapse(e,t){e.collapse=t},setUserInfo(e,t){e.userInfo=t},removeUserInfo(e,t){e.userInfo=null}},actions:{},modules:{}});const Le=[{path:"/",redirect:"/product"},{path:"/",name:"Home",component:ve,children:[{path:"/product",name:"product",meta:{title:"产品管理"},component:()=>S((()=>import("./ProductManage.c2e38397.js")),["./assets/ProductManage.c2e38397.js","./assets/ProductManage.5e61e169.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])},{path:"/mesuring",name:"mesuring",meta:{title:"量具管理"},component:()=>S((()=>import("./MesuringManage.b23381bb.js")),["./assets/MesuringManage.b23381bb.js","./assets/MesuringManage.1a2e80d9.css","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/vendor.cfd906a5.js","./assets/user.181d4cce.js"])},{path:"/knife",name:"knife",meta:{title:"刀具管理"},component:()=>S((()=>import("./KnifeManage.423180d1.js")),["./assets/KnifeManage.423180d1.js","./assets/KnifeManage.96ee4e21.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])},{path:"/tool",name:"tool",meta:{title:"工具管理"},component:()=>S((()=>import("./ToolManage.d60a8f88.js")),["./assets/ToolManage.d60a8f88.js","./assets/ToolManage.3e97c55b.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])},{path:"/tool-add",name:"tool-add",meta:{title:"添加工具种类"},component:()=>S((()=>import("./ToolAdd.a2f7315d.js")),["./assets/ToolAdd.a2f7315d.js","./assets/ToolAdd.b24d7fba.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])},{path:"/user",name:"user",meta:{title:"员工管理"},component:()=>S((()=>import("./UserManage.612801dd.js")),["./assets/UserManage.612801dd.js","./assets/UserManage.91127aef.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])},{path:"/work-list",name:"work-list",meta:{title:"工作任务"},component:()=>S((()=>import("./WorkList.82597109.js")),["./assets/WorkList.82597109.js","./assets/WorkList.3a0252c7.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])},{path:"/lend-list",name:"lend-list",meta:{title:"领用记录"},component:()=>S((()=>import("./LendList.35f66f14.js")),["./assets/LendList.35f66f14.js","./assets/LendList.0ee210e6.css","./assets/vendor.cfd906a5.js","./assets/MesuringTable.3021cce1.js","./assets/MesuringTable.97785e56.css","./assets/user.181d4cce.js","./assets/ProductDetail.a680663a.js","./assets/ProductDetail.e9810265.css"])}]},{path:"/login",name:"Login",meta:{title:"登录"},component:()=>S((()=>import("./Login.1a3b6ba3.js")),["./assets/Login.1a3b6ba3.js","./assets/Login.4bea2b93.css","./assets/vendor.cfd906a5.js","./assets/user.181d4cce.js"])}],we=P({history:C(),routes:Le}),Ie=ke;we.beforeEach(((e,t,s)=>{document.title=`${e.meta.title} | 瑞奥机械`;const a=Ie.state.userInfo;a||"/login"===e.path?e.meta.permission?"admin"===a?s():s("/403"):s():s("/login")}));const ye=j({locale:A.name,fallbackLocale:O.name,messages:{"zh-cn":{i18n:{breadcrumb:"国际化产品",tips:"通过切换语言按钮，来改变当前内容的语言。",btn:"切换英文",title1:"常用用法",p1:"要是你把你的秘密告诉了风，那就别怪风把它带给树。",p2:"没有什么比信念更能支撑我们度过艰难的时光了。",p3:"只要能把自己的事做好，并让自己快乐，你就领先于大多数人了。"}},en:{i18n:{breadcrumb:"International Products",tips:"Click on the button to change the current language. ",btn:"Switch Chinese",title1:"Common usage",p1:"If you reveal your secrets to the wind you should not blame the wind for  revealing them to the trees.",p2:"Nothing can help us endure dark times better than our faith. ",p3:"If you can do what you do best and be happy, you're further along in life  than most people."}}}});const Te=D(V);var Ee;(Ee=Te).use(R,{locale:A}),Ee.use(ye),Te.use(ke).use(we).mount("#app");export{ne as s};
