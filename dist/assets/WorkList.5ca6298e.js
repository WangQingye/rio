import{B as e,i as l,p as a,a as s,L as t,E as o,r as i,o as d,c as r,f as u,t as n,g as p,w as c,h as m}from"./vendor.783501fb.js";import"./index.4c0ae215.js";import{_ as b,b as f}from"./MesuringTable.4d1cd74b.js";import{a as h}from"./ProductDetail.faf80dea.js";const y={components:{BaseTable:b,ProductAdd:f,ProductDetail:h},name:"product-manage",setup(){const a=e({address:"",name:"",pageIndex:1,pageSize:10}),s=l(null),i=l(!1);return{columns:[{label:"产品代号",prop:"productId"},{label:"零件代号",prop:"partId"},{label:"零件名称",prop:"partName"},{label:"工序",prop:"stepName"},{label:"操作设备",prop:"equipment"},{label:"状态",prop:"status",slot:"status"},{label:"要求完工时间",prop:"planFinishTime"},{label:"开工时间",prop:"startTime"},{label:"完工时间",prop:"endTime"},{label:"接受产品数量",prop:"receiveNum"},{label:"合格产品数量",prop:"qualifiedNum"},{label:"工序单价（元）",prop:"stepPrice"}],query:a,handleWorkStatus:(e,l)=>{s.value=e,"start"===l?t.confirm("确定开始本工序吗？","提示").then((()=>{o.success("操作成功")})):"finish"===l&&(i.value=!0)},finishEditVisible:i,finishEditSubmit:e=>{console.log(e)}}}},k=c();a("data-v-277767b8");const q={class:"container"},V=m("查询"),_=m("开工 "),v=m("完成");s();const g=k(((e,l,a,s,t,o)=>{const c=i("el-input"),m=i("el-form-item"),b=i("el-button"),f=i("el-form"),h=i("BaseTable"),y=i("ProductAdd");return d(),r("div",null,[u("div",q,[u(f,{inline:!0,model:s.query,class:"demo-form-inline"},{default:k((()=>[u(m,{label:"产品代号"},{default:k((()=>[u(c,{modelValue:s.query.address,"onUpdate:modelValue":l[1]||(l[1]=e=>s.query.address=e),placeholder:"产品代号"},null,8,["modelValue"])])),_:1}),u(m,{label:"零件代号"},{default:k((()=>[u(c,{modelValue:s.query.address,"onUpdate:modelValue":l[2]||(l[2]=e=>s.query.address=e),placeholder:"零件代号"},null,8,["modelValue"])])),_:1}),u(m,{label:"零件名称"},{default:k((()=>[u(c,{modelValue:s.query.address,"onUpdate:modelValue":l[3]||(l[3]=e=>s.query.address=e),placeholder:"零件名称"},null,8,["modelValue"])])),_:1}),u(m,null,{default:k((()=>[u(b,{type:"primary",onClick:e.handleSearch},{default:k((()=>[V])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),u(h,{cols:s.columns,url:"/worklist"},{status:k((e=>[u("span",null,n(e.scopeData.status),1)])),operation:k((e=>["未开始"==e.scopeData.status?(d(),r(b,{key:0,type:"primary",icon:"el-icon-video-play",style:{"margin-left":"0"},onClick:l=>s.handleWorkStatus(e.scopeData,"start")},{default:k((()=>[_])),_:2},1032,["onClick"])):p("",!0),"进行中"==e.scopeData.status?(d(),r(b,{key:1,type:"success",icon:"el-icon-finished",onClick:l=>s.handleWorkStatus(e.scopeData,"finish")},{default:k((()=>[v])),_:2},1032,["onClick"])):p("",!0)])),_:1},8,["cols"])]),u(y,{visible:s.finishEditVisible,onClose:l[4]||(l[4]=e=>s.finishEditVisible=!1),title:"完工填报",formItems:[{label:"合格产品数量",key:"qualifiedNum",required:!0}],key:"product-edit",onDialogSubmit:s.finishEditSubmit},null,8,["visible","onDialogSubmit"])])}));y.render=g,y.__scopeId="data-v-277767b8";export default y;
