import{b as e,_ as l,a as t}from"./MesuringTable.4d1cd74b.js";import{p as a,a as i,i as s,r as o,o as r,c as p,f as d,t as n,F as m,l as b,g as c,w as u,h as y,B as f,b as k,D as I}from"./vendor.783501fb.js";const g={components:{ProductAdd:e},props:{prices:{type:Object,default:()=>({})},fromIndex:{type:String},isInIndex:{type:Boolean}},emits:["dialog-submit"],name:"process-price-tag",setup(e,{emit:l}){console.log(e.prices);const t=s(!1),a=s(null);return{priceItems:[{label:"车工序价格",key:"cPrice",required:!0},{label:"铣工序价格",key:"xPrice",required:!0},{label:"钳工序价格",key:"qPrice",required:!0}],priceEditVisible:t,editItemData:a,handleEdit:l=>{t.value=!0,a.value=e.prices},editSubmit:()=>{}}}},v=u();a("data-v-b1e6238c");const h={style:{"font-weight":"bold"}},D={style:{"font-weight":"bold"}},_=y("填报价格");i();const T=v(((e,l,t,a,i,s)=>{const u=o("el-form-item"),y=o("el-button"),f=o("el-form"),k=o("ProductAdd");return r(),p(m,null,[d(f,{"label-width":"100px",inline:""},{default:v((()=>[d(u,{style:{width:"20%"},label:"序号 : "},{default:v((()=>[d("span",h,n(t.fromIndex),1)])),_:1}),(r(!0),p(m,null,b(a.priceItems,(e=>(r(),p(u,{style:{width:"20%"},key:e.key,label:`${e.label} : `},{default:v((()=>[d("span",D,n(t.prices[e.key]||"未填报"),1)])),_:2},1032,["label"])))),128)),d(u,null,{default:v((()=>[t.isInIndex?(r(),p(y,{key:0,type:"primary",size:"small",onClick:a.handleEdit},{default:v((()=>[_])),_:1},8,["onClick"])):c("",!0)])),_:1})])),_:1}),d(k,{visible:a.priceEditVisible,onClose:l[1]||(l[1]=e=>a.priceEditVisible=!1),itemData:a.editItemData,title:"填报价格",formItems:a.priceItems,key:"product-edit",onDialogSubmit:a.editSubmit},null,8,["visible","itemData","formItems","onDialogSubmit"])],64)}));g.render=T,g.__scopeId="data-v-b1e6238c";const x={components:{BaseTable:l,MesuringTable:t,ProcessPriceTag:g,ProductAdd:e},props:{visible:{type:Boolean,required:!0},itemData:{type:Object}},emits:["close","dialog-submit"],name:"product-add",setup(e,{emit:l}){const t=f({}),a=s("process"),i=k((()=>e.visible));I(i,(()=>{1==i.value?e.itemData&&Object.keys(e.itemData).map((l=>{t[l]=e.itemData[l]})):Object.keys(t).map((e=>{delete t[e]}))}));const o=s(!1),r=s({});return{stepColumns:[{label:"工序",prop:"stepName"},{label:"操作者",prop:"userName"},{label:"当前状态",prop:"status"},{label:"操作设备",prop:"equipment"},{label:"接受产品数量",prop:"receiveNum"},{label:"开工时间",prop:"startTime"},{label:"要求完工时间",prop:"planFinishTime"},{label:"实际完工时间",prop:"finishTime"},{label:"合格产品数量",prop:"qualifiedNum"},{label:"运行时间",prop:"runTime"},{label:"最高记录",prop:"highScore"},{label:"工序单价（元）",prop:"stepPrice"},{label:"备注",prop:"remark"}],stepItems:[{label:"工序",key:"stepName",disabled:!0},{label:"操作者",key:"userName",type:"user"},{label:"当前状态",key:"status",disabled:!0},{label:"操作设备",key:"equipment",disabled:!0},{label:"接受产品数量",key:"receiveNum"},{label:"开工时间",key:"startTime",disabled:!0},{label:"要求完工时间",key:"planFinishTime"},{label:"实际完工时间",key:"finishTime",disabled:!0},{label:"合格产品数量",key:"qualifiedNum"},{label:"运行时间",key:"runTime"},{label:"最高记录",key:"highScore"},{label:"工序单价（元）",key:"stepPrice"},{label:"备注",key:"remark",type:"textarea"}],meusringColumns:[{label:"量具名称",prop:"mesuringName"},{label:"量具规格",prop:"mesuringSpecs"},{label:"量具编号",prop:"mesuringId"},{label:"归属序号",prop:"fromIndex"},{label:"数量",prop:"num"},{label:"状态",prop:"status"},{label:"入库时间",prop:"inTime"},{label:"归还时间",prop:"returnTime"}],close:()=>{l("close")},activeName:a,saveEdit:()=>{l("dialog-submit",t)},form:t,stepEditVisible:o,stepEditItem:r,handleStepEdit:e=>{o.value=!0,r.value=e},stepEditSubmit:()=>{}}}},E=u();a("data-v-145ecfc2");const S=y("信息填报 "),P={class:"dialog-footer"},N=y("关 闭");i();const V=E(((e,l,t,a,i,s)=>{const n=o("ProcessPriceTag"),m=o("el-button"),b=o("BaseTable"),c=o("ProductAdd"),u=o("el-tab-pane"),y=o("MesuringTable"),f=o("el-tabs"),k=o("el-dialog");return r(),p(k,{"append-to-body":!0,title:`序号详情 - ${t.itemData&&t.itemData.index}`,modelValue:t.visible,"onUpdate:modelValue":l[3]||(l[3]=e=>t.visible=e),"destroy-on-close":!0,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"80%"},{footer:E((()=>[d("span",P,[d(m,{onClick:a.close},{default:E((()=>[N])),_:1},8,["onClick"])])])),default:E((()=>[d(f,{modelValue:a.activeName,"onUpdate:modelValue":l[2]||(l[2]=e=>a.activeName=e)},{default:E((()=>[d(u,{label:"生产过程",name:"process"},{default:E((()=>[d(n,{fromIndex:t.itemData.index,isInIndex:!0},null,8,["fromIndex"]),d(b,{cols:a.stepColumns,url:"/step"},{operation:E((e=>[d(m,{type:"text",icon:"el-icon-edit",onClick:l=>a.handleStepEdit(e.scopeData)},{default:E((()=>[S])),_:2},1032,["onClick"])])),_:1},8,["cols"]),d(c,{visible:a.stepEditVisible,onClose:l[1]||(l[1]=e=>a.stepEditVisible=!1),title:"工序信息填报",formItems:a.stepItems,key:"product-edit",itemData:a.stepEditItem,onDialogSubmit:a.stepEditSubmit},null,8,["visible","formItems","itemData","onDialogSubmit"])])),_:1}),d(u,{label:"量具情况",name:"mesuring"},{default:E((()=>[d(y,{taskIndex:"111"})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title","modelValue"])}));x.render=V,x.__scopeId="data-v-145ecfc2";export{g as _,x as a};
