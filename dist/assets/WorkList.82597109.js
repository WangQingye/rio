import{D as e,j as a,p as l,a as s,L as t,i as o,r as i,o as r,c as d,f as u,t as n,g as p,w as c,h as m}from"./vendor.cfd906a5.js";import"./index.8da61348.js";import{_ as b,b as f}from"./MesuringTable.3021cce1.js";import{a as h}from"./ProductDetail.a680663a.js";import"./user.181d4cce.js";const y={components:{BaseTable:b,ProductAdd:f,ProductDetail:h},name:"product-manage",setup(){const l=e({address:"",name:"",pageIndex:1,pageSize:10}),s=a(null),i=a(!1);return{columns:[{label:"产品代号",prop:"productId"},{label:"零件代号",prop:"partId"},{label:"零件名称",prop:"partName"},{label:"工序",prop:"stepName"},{label:"操作设备",prop:"equipment"},{label:"状态",prop:"status",slot:"status"},{label:"要求完工时间",prop:"planFinishTime"},{label:"开工时间",prop:"startTime"},{label:"完工时间",prop:"endTime"},{label:"接受产品数量",prop:"receiveNum"},{label:"合格产品数量",prop:"qualifiedNum"},{label:"工序单价（元）",prop:"stepPrice"}],query:l,handleWorkStatus:(e,a)=>{s.value=e,"start"===a?t.confirm("确定开始本工序吗？","提示").then((()=>{o.success("操作成功")})):"finish"===a&&(i.value=!0)},finishEditVisible:i,finishEditSubmit:e=>{console.log(e)}}}},k=c();l("data-v-277767b8");const q={class:"container"},V=m("查询"),_=m("开工 "),v=m("完成");s();const D=k(((e,a,l,s,t,o)=>{const c=i("el-input"),m=i("el-form-item"),b=i("el-button"),f=i("el-form"),h=i("BaseTable"),y=i("ProductAdd");return r(),d("div",null,[u("div",q,[u(f,{inline:!0,model:s.query,class:"demo-form-inline"},{default:k((()=>[u(m,{label:"产品代号"},{default:k((()=>[u(c,{modelValue:s.query.address,"onUpdate:modelValue":a[1]||(a[1]=e=>s.query.address=e),placeholder:"产品代号"},null,8,["modelValue"])])),_:1}),u(m,{label:"零件代号"},{default:k((()=>[u(c,{modelValue:s.query.address,"onUpdate:modelValue":a[2]||(a[2]=e=>s.query.address=e),placeholder:"零件代号"},null,8,["modelValue"])])),_:1}),u(m,{label:"零件名称"},{default:k((()=>[u(c,{modelValue:s.query.address,"onUpdate:modelValue":a[3]||(a[3]=e=>s.query.address=e),placeholder:"零件名称"},null,8,["modelValue"])])),_:1}),u(m,null,{default:k((()=>[u(b,{type:"primary",onClick:e.handleSearch},{default:k((()=>[V])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),u(h,{cols:s.columns,url:"/worklist"},{status:k((e=>[u("span",null,n(e.scopeData.status),1)])),operation:k((e=>["未开始"==e.scopeData.status?(r(),d(b,{key:0,type:"primary",icon:"el-icon-video-play",style:{"margin-left":"0"},onClick:a=>s.handleWorkStatus(e.scopeData,"start")},{default:k((()=>[_])),_:2},1032,["onClick"])):p("",!0),"进行中"==e.scopeData.status?(r(),d(b,{key:1,type:"success",icon:"el-icon-finished",onClick:a=>s.handleWorkStatus(e.scopeData,"finish")},{default:k((()=>[v])),_:2},1032,["onClick"])):p("",!0)])),_:1},8,["cols"])]),u(y,{visible:s.finishEditVisible,onClose:a[4]||(a[4]=e=>s.finishEditVisible=!1),title:"完工填报",formItems:[{label:"合格产品数量",key:"qualifiedNum",required:!0}],key:"product-edit",onDialogSubmit:s.finishEditSubmit},null,8,["visible","onDialogSubmit"])])}));y.render=D,y.__scopeId="data-v-277767b8";export default y;
